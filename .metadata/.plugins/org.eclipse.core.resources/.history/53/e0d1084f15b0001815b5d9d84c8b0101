package org.green.crud1;

import java.sql.Connection;
import java.util.List;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;


// bean : 스프링이 관리하는 자바 객체
//
// controller 클래스라는 것을 알려주는 어노테이션
// --> bean으로 등록 되었다.
@Controller
public class MyController {

	// 2개의 주소 처리
	// jsp 객체가 필요할 때 인수에 필요한 인수를 적기만 하면 됨
	@RequestMapping({"/", "/goList"})
	public String goList(Model model){ // request 대신 model도 가능
		TeacherDAO dao = TeacherDAO.getInstance();
		Connection con = dao.connect();
		
		List<Teacher> list = dao.getAll(con);
		dao.close(con);		
		model.addAttribute("list", list);
		return "list";
	}
	
	@RequestMapping("/goInsert")
	public String goInsert() {
		return "insert";
	}
}
